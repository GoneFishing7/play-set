(this["webpackJsonpplay-set"]=this["webpackJsonpplay-set"]||[]).push([[0],{131:function(e,t,n){"use strict";n.r(t);var a,r,o,s,i,c=n(0),l=n.n(c),d=n(54),u=n.n(d),h=n(57),f=n(38),m=n(16),g=n(17),v=n(56),b=n(58);!function(e){e[e.color=0]="color",e[e.symbol=1]="symbol",e[e.shading=2]="shading",e[e.number=3]="number"}(a||(a={})),function(e){e[e.red=0]="red",e[e.purple=1]="purple",e[e.green=2]="green"}(r||(r={})),function(e){e[e.squiggle=0]="squiggle",e[e.diamond=1]="diamond",e[e.oval=2]="oval"}(o||(o={})),function(e){e[e.full=0]="full",e[e.half=1]="half",e[e.empty=2]="empty"}(s||(s={})),function(e){e[e.one=0]="one",e[e.two=1]="two",e[e.three=2]="three"}(i||(i={}));n(64);var p=function(e,t,n){var a="url(#".concat(e).concat(n,")");return"squiggle"===t?l.a.createElement("path",{d:"M 65.667943,34.045303 C 87.27875,39.803809 41.990889,59.441302 72.173537,76.913458 87.083275,85.880228 96.329278,73.074631 84.85121,66.826656 81.5896,65.05123 76.227993,61.395792 81.063786,56.824618 95.230412,32.999185 83.571571,25.755302 78.51794,21.476024 65.084059,15.753205 52.27903,28.108168 65.667943,34.045303 Z",fill:a,stroke:e,strokeWidth:2}):"diamond"===t?l.a.createElement("path",{d:"M 75,20 60,50 75,80 90,50 Z",fill:a,stroke:e,strokeWidth:2}):l.a.createElement("rect",{rx:"20",ry:"15.24699",y:"20",x:"60",height:"60",width:"30",fill:a,stroke:e,strokeWidth:2})},C=function(e){var t=e.cardProperties,n=t.color,a=t.symbol,o=t.shading,s=t.number,i=["card"];return e.selected&&i.push("selected"),e.isHint&&i.push("hint"),l.a.createElement("button",{className:"card-wrapper",onClick:e.onClick},l.a.createElement("svg",{viewBox:"0 0 150 100",preserveAspectRatio:"xMidYMid meet",className:i.join(" ")},l.a.createElement("defs",null,Object.values(r).map((function(e){return l.a.createElement("pattern",{id:"".concat(e,"half"),x:"0",y:"0",width:"10",height:"4",patternUnits:"userSpaceOnUse",key:"".concat(e,"half")},l.a.createElement("rect",{width:"10",height:"1",stroke:e}))})),Object.values(r).map((function(e){return l.a.createElement("pattern",{id:"".concat(e,"full"),x:"0",y:"0",width:"1",height:"1",patternUnits:"userSpaceOnUse",key:"".concat(e,"full")},l.a.createElement("rect",{width:"1",height:"1",stroke:e}))}))),l.a.createElement("g",{transform:"translate(".concat("one"===s?"0":"two"===s?"-20":"-40",", 0)")},p(n,a,o)),"one"!==s&&l.a.createElement("g",{transform:"translate(".concat("two"===s?"20":"0",", 0)")},p(n,a,o)),"three"===s&&l.a.createElement("g",{transform:"translate(40, 0)"},p(n,a,o))))},y=(n(65),n(1)),E=n.n(y),w=function(e){var t=E.a.chunk(e.cards,3);return l.a.createElement("table",{id:"board"},l.a.createElement("tbody",null,t.map((function(t,n){return l.a.createElement("tr",{key:n,className:"boardRow"},t.map((function(t,a){return l.a.createElement("td",{key:a,className:"boardCell"},l.a.createElement(C,{cardProperties:t.toObject(),onClick:function(){e.onCardClick(3*n+a)},selected:e.selectedCards.includes(3*n+a),isHint:e.hintedCards.includes(3*n+a)}))})))}))))},k=n(9),j=n(3),O=function(){function e(t,n,a,c){Object(m.a)(this,e),this.color=void 0,this.symbol=void 0,this.shading=void 0,this.number=void 0,t&&n&&a&&c?(this.color=t,this.symbol=n,this.shading=a,this.number=c):(this.color=E.a.sample(Object(j.getAllEnumKeys)(r)),this.symbol=E.a.sample(Object(j.getAllEnumKeys)(o)),this.shading=E.a.sample(Object(j.getAllEnumKeys)(s)),this.number=E.a.sample(Object(j.getAllEnumKeys)(i)))}return Object(g.a)(e,[{key:"toObject",value:function(){return{color:this.color,symbol:this.symbol,shading:this.shading,number:this.number}}}]),e}();function S(e){var t,n=e.map((function(e){return e.toObject()})),r=Object(k.a)(Object(j.getAllEnumKeys)(a));try{for(r.s();!(t=r.n()).done;){var o=t.value;if(2===E.a.uniqBy(n,o).length)return!1}}catch(s){r.e(s)}finally{r.f()}return!0}function A(e){for(var t=[],n=0;n<e.length-2;n++)for(var a=n+1;a<e.length-1;a++)for(var r=a+1;r<e.length;r++){S([e[n],e[a],e[r]])&&t.push([n,a,r])}return t}var W=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(Object(m.a)(this,e),this.minSets=void 0,this.cards=void 0,t<3)throw new Error("Attempted to create a board of size < 3");this.cards=[],this.minSets=n;do{this.cards=[];for(var a=0;a<t;a++){var r=void 0;do{r=new O}while(E.a.some(this.cards,r));this.cards.push(r)}}while(A(this.cards).length<this.minSets)}return Object(g.a)(e,[{key:"getCards",value:function(){return this.cards}},{key:"setCard",value:function(e,t){this.cards[t]=e}},{key:"getCard",value:function(e){return this.cards[e]}},{key:"replaceCards",value:function(e){var t;do{do{t=[new O,new O,new O]}while(E.a.some(this.cards,t[0])||E.a.some(this.cards,t[1])||E.a.some(this.cards,t[2])||E.a.isEqual(t[0],t[1])||E.a.isEqual(t[0],t[2])||E.a.isEqual(t[1],t[2]));for(var n=0;n<3;n++)this.cards[e[n]]=t[n]}while(A(this.cards).length<this.minSets)}},{key:"shuffle",value:function(){return this.cards=E.a.shuffle(this.cards),this}}],[{key:"generateDeck",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=[],a=Object(k.a)(Object(j.getAllEnumKeys)(r));try{for(a.s();!(e=a.n()).done;){var c,l=e.value,d=Object(k.a)(Object(j.getAllEnumKeys)(o));try{for(d.s();!(c=d.n()).done;){var u,h=c.value,f=Object(k.a)(Object(j.getAllEnumKeys)(s));try{for(f.s();!(u=f.n()).done;){var m,g=u.value,v=Object(k.a)(Object(j.getAllEnumKeys)(i));try{for(v.s();!(m=v.n()).done;){var b=m.value;n.push(new O(l,h,g,b))}}catch(p){v.e(p)}finally{v.f()}}}catch(p){f.e(p)}finally{f.f()}}}catch(p){d.e(p)}finally{d.f()}}}catch(p){a.e(p)}finally{a.f()}return t&&E.a.shuffle(n),n}}]),e}(),N=(n(68),function(e){var t=["button"];return e.color?t.push("button-"+e.color):t.push("button-gray"),e.largeButton&&t.push("button-large"),e.roundedLeft&&t.push("button-rounded-left"),e.roundedRight&&t.push("button-rounded-right"),e.roundedNone&&t.push("button-rounded-none"),e.staticOnHover&&t.push("button-static"),e.position&&t.push(e.position),l.a.createElement("button",{onClick:e.onClick,className:t.join(" ")},e.children)}),K=(n(69),function(e){return l.a.createElement("div",{id:"controls"},l.a.createElement("div",{id:"hint-button"},l.a.createElement(N,{color:"blue",onClick:e.giveHint},l.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83e\udd37\u200d\u2642\ufe0f")," ","Hint")),l.a.createElement("div",{id:"shuffle-button"},l.a.createElement(N,{color:"blue",onClick:e.shuffle},l.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83d\ude43")," ","Shuffle")),l.a.createElement("h2",{id:"score"},"Your score: ",e.score))}),x=(n(70),function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var a;Object(m.a)(this,n),(a=t.call(this,e)).handleCardClick=function(e){a.setState((function(t){return t.selectedCards.includes(e)?{selectedCards:t.selectedCards.filter((function(t){return t!==e}))}:3===t.selectedCards.length?{selectedCards:t.selectedCards}:{selectedCards:[].concat(Object(f.a)(t.selectedCards),[e])}}),(function(){3===a.state.selectedCards.length&&a.checkSet()}))},a.shuffleCards=function(){a.setState((function(e){return{board:E.a.cloneDeep(e.board).shuffle()}}))},a.checkSet=function(){if(3!==a.state.selectedCards.length)throw new Error("Something bad happened!");S([a.state.board.getCard(a.state.selectedCards[0]),a.state.board.getCard(a.state.selectedCards[1]),a.state.board.getCard(a.state.selectedCards[2])])&&a.setState((function(e){var t=E.a.cloneDeep(e.board);return t.replaceCards(a.state.selectedCards.slice(0,3)),{score:e.score+1,selectedCards:[],board:t,sets:A(t.getCards()),hintedCards:[]}}))},a.giveHint=function(){a.setState((function(e){return e.hintedCards.length>2?{hintedCards:e.hintedCards}:{hintedCards:[].concat(Object(f.a)(e.hintedCards),[e.sets[0][e.hintedCards.length]])}}))};var r=new W(12,2);return a.state={board:r,score:0,selectedCards:[],sets:A(r.getCards()),hintedCards:[]},a}return Object(g.a)(n,[{key:"render",value:function(){var e=this;return console.log(this.state.sets),l.a.createElement("div",{id:"game"},l.a.createElement("div",{id:"title-wrapper"},l.a.createElement("h1",{id:"title"},"Set")),l.a.createElement("div",{id:"board-wrapper"},l.a.createElement(w,{cards:this.state.board.getCards(),selectedCards:this.state.selectedCards,hintedCards:this.state.hintedCards,onCardClick:this.handleCardClick})),l.a.createElement("div",{id:"controls-wrapper"},l.a.createElement(K,{giveHint:function(){e.giveHint()},shuffle:function(){e.shuffleCards()},score:this.state.score})))}}]),n}(l.a.Component)),H=(n(71),n(55)),q=n.n(H);var U=function(){var e=Object(c.useState)((function(){return!1})),t=Object(h.a)(e,2),n=t[0],a=t[1];return l.a.createElement("div",{id:"app",className:n?"dark":"light"},l.a.createElement(x,null),l.a.createElement("div",{className:"dark-mode-toggle-wrapper"},l.a.createElement(q.a,{checked:n,onChange:a})))},R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}u.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(U,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");R?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):B(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):B(t,e)}))}}()},59:function(e,t,n){e.exports=n(131)},64:function(e,t,n){},65:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){}},[[59,1,2]]]);
//# sourceMappingURL=main.9a104482.chunk.js.map